<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

	<title>ScrollMagic Demos</title>

	<link rel="stylesheet" href="_assets/styles/reset.css" />
	<link rel="stylesheet" href="_assets/styles/demo-styles.css" />

	<script src="_assets/vendor/modernizr.custom.min.js"></script>
	<script src="_assets/vendor/jquery.min.js"></script>
	<script src="_assets/vendor/TweenMax.min.js"></script>
	<script src="_assets/vendor/ScrollToPlugin.min.js"></script>
	<script src="_assets/vendor/ScrollMagic.min.js"></script>
	<script src="_assets/vendor/animation.gsap.min.js"></script>
	<script src="_assets/vendor/debug.addIndicators.min.js"></script>

	<script>
		$(function() {
			// init controller
			var controller = new ScrollMagic.Controller();

			// build tweens
			var tween3 = TweenMax.to("#target3", 1, {
				rotation: 360,
				ease: Linear.easeNone
			});
			var tween4 = TweenMax.to("#target4", 1, {
				rotation: -180,
				ease: Linear.easeNone
			});
			// var tween5 = TweenMax.to("#target5", 1, {
			// 	opacity: 1,
			// 	ease: Linear.easeNone
			// });
			TweenMax.set("#target5", {opacity: 0});

			// build scenes
			var scene1 = new ScrollMagic.Scene({
					triggerElement: "#trigger1",
					duration: 300
				})
				// .setTween(tween1)
				.setPin("#target1", {pushFollowers: false}) //following el's displays before target tween
				.addIndicators()
				.addTo(controller);
			var scene2 = new ScrollMagic.Scene({
					triggerElement: "#trigger2",
					duration: 300
				})
				// .setTween(tween2)
				.setPin("#target2", {pushFollowers: true}) //following el's displays after target tween
				.addIndicators()
				.addTo(controller);
			var scene3 = new ScrollMagic.Scene({
					triggerElement: "#trigger3",
					duration: 300
				})
				.setTween(tween3)
				.setPin("#target3", {pushFollowers: false}) //following el's displays before target tween
				.addIndicators();
				// .addTo(controller);
			var scene4 = new ScrollMagic.Scene({
					triggerElement: "#trigger4",
					duration: 300
				})
				.setTween(tween4)
				.setPin("#target4", {pushFollowers: true}) //following el's displays after target tween
				.addIndicators();
				// .addTo(controller);
			var scene5 = new ScrollMagic.Scene({
					triggerElement: "#trigger5",
					duration: 300
				})
				// .setTween(tween5)
				.on('enter', function(){
					console.log('hi');
					TweenMax.to("#target5", 0.4, {
						opacity: 1,
						ease: Linear.easeNone
					});
				})
				.on('leave', function(){
					console.log('bye');
					TweenMax.to("#target5", 0.4, {
						opacity: 0,
						ease: Linear.easeNone
					});
				})
				// .setPin("#target5", {pushFollowers: true}) //following el's displays after target tween
				.addIndicators();
				// .addTo(controller);

			controller.addScene([scene3, scene4, scene5]); //same as scene.addTo(controller)

		});
	</script>

</head>
<body>

	<div id="content">

		<header id="intro" class="scene-100vh">
			<div id="intro-block" class="centered-block">
				<h1>ScrollMagic Demo 1</h1>
				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
			</div>
		</header>

		<section id="scene1" class="scene">

			<div id="trigger1" class="hr"></div>

			<div id="target1" class="box">BOX</div>

			<p class="half">Post-Box Content. Displays before the box transition.</p>

		</section>

		<section id="scene2" class="scene">

			<div id="trigger2" class="hr"></div>

			<div id="target2" class="box">BOX</div>

			<p class="half">Post-Box Content. Displays after the box transition.</p>

		</section>

		<section id="scene3" class="scene">

			<div id="trigger3" class="hr"></div>

			<div id="target3" class="box">BOX</div>

			<p class="half">Post-Box Content. Displays before the box transition tween.</p>

		</section>

		<section id="scene4" class="scene">

			<div id="trigger4" class="hr"></div>

			<div id="target4" class="box">BOX</div>

			<p class="half">Post-Box Content. Displays after the box transition tween.</p>

		</section>

		<section id="scene5" class="scene">

			<div id="trigger5" class="hr"></div>

			<div id="target5" class="box">BOX</div>

			<p class="half">Post-Box Content. Displays before the box transition tween.</p>

		</section>

		<footer class="bottom"></footer>

	</div>

</body>
</html>
